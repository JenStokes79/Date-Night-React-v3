{"version":3,"sources":["../../../server/routes/api/search.js"],"names":["request","require","module","exports","app","post","req","res","next","console","log","body","genre","foodType","zipcode","options","url","headers","err","response","resbody","send"],"mappings":";;AACA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;;AAEAC,OAAOC,OAAP,GAAiB,eAAO;AACpBC,QAAIC,IAAJ,CAAS,aAAT,EAAwB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACxCC,gBAAQC,GAAR,CAAY,UAAZ,EAAwBJ,IAAIK,IAA5B;AADwC,YAEhCA,IAFgC,GAEvBL,GAFuB,CAEhCK,IAFgC;AAAA,YAGhCC,KAHgC,GAGHD,IAHG,CAGhCC,KAHgC;AAAA,YAGzBC,QAHyB,GAGHF,IAHG,CAGzBE,QAHyB;AAAA,YAGfC,OAHe,GAGHH,IAHG,CAGfG,OAHe;;AAIxC,YAAMC,UAAU;AACZC,yFAA2EF,OAA3E,oBAAiGD,QADrF;AAEZI,qBAAS;AACL,iCAAiB;AADZ;AAFG,SAAhB;;AAQAjB,gBAAQe,OAAR,EAAiB,UAACG,GAAD,EAAMC,QAAN,EAAgBC,OAAhB,EAA4B;AACzC;AACA;AACA;AACAb,gBAAIc,IAAJ,CAASD,OAAT;AACH,SALD;AAMH,KAlBD;AAoBH,CArBD","file":"search.js","sourcesContent":["\nconst request = require('request');\n\nmodule.exports = app => {\n    app.post(\"/api/search\", (req, res, next) => {\n        console.log('req.body', req.body);\n        const { body } = req;\n        const { genre, foodType, zipcode } = body;\n        const options = {\n            url: `https://api.yelp.com/v3/businesses/search?term=restaurant&location=${zipcode}&categories=${foodType}`,\n            headers: {\n                'Authorization': 'Bearer S7Iu9qp-LWQHVALB4GweWmd0ngVavSMAcMatDXn6PFk6tXIFDWBa4uNxhawNkJllDGo5c5-JvrIjIBvf-581Y4jxpPpsQZKExlOMEtEgyC-4g4wq0zjxutTqeZY0WnYx'\n            }\n        }\n\n\n        request(options, (err, response, resbody) => {\n            //   console.log('error', err);\n            //   console.log('res', response);\n            //   console.log('body', resbody);\n            res.send(resbody);\n        })\n    })\n\n};\n"]}