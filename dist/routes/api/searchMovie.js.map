{"version":3,"sources":["../../../server/routes/api/searchMovie.js"],"names":["request","require","module","exports","app","post","req","res","next","console","log","body","genre","foodType","zipcode","date","options","url","err","response","resbody","send"],"mappings":";;AACA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;;AAEAC,OAAOC,OAAP,GAAiB,eAAO;AACpBC,QAAIC,IAAJ,CAAS,kBAAT,EAA6B,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC7CC,gBAAQC,GAAR,CAAY,UAAZ,EAAwBJ,IAAIK,IAA5B;AACA;AAF6C,YAGrCA,IAHqC,GAG5BL,GAH4B,CAGrCK,IAHqC;AAAA,YAIrCC,KAJqC,GAIFD,IAJE,CAIrCC,KAJqC;AAAA,YAI9BC,QAJ8B,GAIFF,IAJE,CAI9BE,QAJ8B;AAAA,YAIpBC,OAJoB,GAIFH,IAJE,CAIpBG,OAJoB;AAAA,YAIXC,IAJW,GAIFJ,IAJE,CAIXI,IAJW;;AAK7C,YAAMC,UAAU;AACZC,4EAA8DF,IAA9D,aAA0ED,OAA1E;AACA;AACA;AACF;AACE;AACA;AACA;AACA;AARY,SAAhB;;AAYAd,gBAAQgB,OAAR,EAAiB,UAACE,GAAD,EAAMC,QAAN,EAAgBC,OAAhB,EAA4B;AACzC;AACA;AACA;AACAb,gBAAIc,IAAJ,CAASD,OAAT;AACH,SALD;AAMH,KAvBD;AAyBH,CA1BD","file":"searchMovie.js","sourcesContent":["\r\nconst request = require('request');\r\n\r\nmodule.exports = app => {\r\n    app.post(\"/api/searchMovie\", (req, res, next) => {\r\n        console.log('req.body', req.body);\r\n        // console.log('today', today)\r\n        const { body } = req;\r\n        const { genre, foodType, zipcode, date } = body;\r\n        const options = {\r\n            url: `http://data.tmsapi.com/v1.1/movies/showings?startDate=${date}&zip=${zipcode}&api_key=kh99q83z7y2cwgvavy3tgekn`,\r\n            // data: {\r\n            // //     // 'date': date,\r\n       \t \t// //    \t// 'zip': zipcode,\r\n       \t   \t//  \t'jsonp': \"dataHandler\"\r\n       \t    // // \t// api_key: 'kh99q83z7y2cwgvavy3tgekn'\r\n            // },\r\n            // dataType: 'jsonp'\r\n        }\r\n\r\n\r\n        request(options, (err, response, resbody) => {\r\n            //   console.log('error', err);\r\n            //   console.log('res', response);\r\n            //   console.log('body', resbody);\r\n            res.send(resbody);\r\n        })\r\n    })\r\n\r\n};\r\n"]}